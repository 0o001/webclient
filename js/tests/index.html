<!DOCTYPE html>
<html>
  <head>
    <title>Mocha</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="vendor/mocha/mocha.css" />
  </head>
  <body>
    <div id="mocha"></div>
    <script src="vendor/mocha/mocha.js"></script>
    <script src="vendor/mocha/chai.js"></script>
    <script src="vendor/mocha/sinon-chai.js"></script>
    <script src="vendor/sinon-1.7.3.js"></script>

    <script>
        // Disabled because of Strophejs
//        mocha.checkLeaks();
        mocha.setup({
            ui: 'bdd'
        });
    </script>


    <!-- test - required libs -->
    <!-- language patch -->
    <script type="text/javascript">
        l = [];
    </script>

    <script type="text/javascript" src="../jquery-1.8.1.js"></script>
    <script type="text/javascript" src="../jquery-ui-1.10.4.js"></script>
    <script type="text/javascript" src="../jquery.jscrollpane.js"></script>

    <script type="text/javascript" src="src/helpers/fromMega.js"></script>



    <script type="text/javascript" src="../datastructs.js"></script>
    <script type="text/javascript" src="../functions.js"></script>
    <script type="text/javascript" src="../megaLogger.js"></script>



    <script type="text/javascript" src="../functions.js"></script>
    <script type="text/javascript" src="../asmcrypto.js"></script>
    <script type="text/javascript" src="../mega.js"></script>
    <script type="text/javascript" src="../crypto.js"></script>
    <script type="text/javascript" src="../megaKvStorage.js"></script>
    <script type="text/javascript" src="../megaPromise.js"></script>
    <script type="text/javascript" src="../fm.js"></script>
    <script type="text/javascript" src="../user.js"></script>
    <script type="text/javascript" src="../megaKvStorage.js"></script>

    <script type="text/javascript" src="../vendor/db.js"></script>
    <script type="text/javascript" src="../megaDbEncryptionPlugin.js"></script>
    <script type="text/javascript" src="../megaDb.js"></script>

    <script type="text/javascript" src="../../aesasm.js"></script>


    <script type="text/javascript" src="../chat/ui/incomingCallDialog.js"></script>




    <script type="text/javascript" src="../jsbn.js"></script>
    <script type="text/javascript" src="../jsbn2.js"></script>
    <script type="text/javascript" src="../jodid25519.js"></script>

    <script type="text/javascript" src="../chat/mpenc.js"></script>


    <script type="text/javascript" src="../chat/opQueue.js"></script>

    <script type="text/javascript" src="../vendor/chat/strophe.js"></script>
    <script type="text/javascript" src="../vendor/chat/strophe.disco.js"></script>
    <script type="text/javascript" src="../vendor/chat/strophe.jingle.js"></script>
    <script type="text/javascript" src="../vendor/chat/strophe.jingle.session.js"></script>
    <script type="text/javascript" src="../vendor/chat/strophe.jingle.sdp.js"></script>
    <script type="text/javascript" src="../vendor/chat/strophe.jingle.adapter.js"></script>
    <script type="text/javascript" src="../vendor/chat/strophe.muc.js"></script>
    <script type="text/javascript" src="../vendor/chat/strophe.roster.js"></script>
    <script type="text/javascript" src="../vendor/chat/wildemitter.patched.js"></script>
    <script type="text/javascript" src="../vendor/chat/hark.patched.js"></script>
    <script type="text/javascript" src="../vendor/chat/base32.js"></script>
    <script type="text/javascript" src="../vendor/chat/cryptojs-core.js"></script>
    <script type="text/javascript" src="../vendor/chat/cryptojs-sha1.js"></script>
    <script type="text/javascript" src="../vendor/chat/cryptojs-hmac.js"></script>
    <script type="text/javascript" src="../vendor/chat/cryptojs-lib-typedarrays.js"></script>

    <script type="text/javascript" src="../vendor/Autolinker.js"></script>

    <script type="text/javascript" src="../ui/filepicker.js"></script>

    <script type="text/javascript" src="../chat/fileTransfer.js"></script>
    <script type="text/javascript" src="../chat/rtcSession.js"></script>

    <script type="text/javascript" src="../tlvstore.js"></script>
    <script type="text/javascript" src="../stringcrypt.js"></script>

    <script type="text/javascript" src="../chat/plugins/urlFilter.js"></script>
    <script type="text/javascript" src="../chat/plugins/attachmentsFilter.js"></script>
    <script type="text/javascript" src="../chat/plugins/emoticonsFilter.js"></script>
    <script type="text/javascript" src="../chat/plugins/capslockFilterDemo.js"></script>
    <script type="text/javascript" src="../chat/plugins/encryptionFilter.js"></script>
    <script type="text/javascript" src="../chat/plugins/chatStore.js"></script>
    <script type="text/javascript" src="../chat/plugins/chatNotifications.js"></script>
    <script type="text/javascript" src="../chat/plugins/callFeedback.js"></script>
    <script type="text/javascript" src="../megaNotifications.js"></script>

    <script type="text/javascript" src="../chat/karereEventObjects.js"></script>
    <script type="text/javascript" src="../chat/karere.js"></script>

    <script type="text/javascript" src="src/helpers/utils.js"></script> <!-- provides a dummy window.module -->

    <script type="text/javascript" src="../../bundle.js"></script>
    <script type="text/javascript" src="../stores/mixins.js"></script>



    <!-- some helper funcs -->
    <script type="text/javascript" src="src/helpers/functionsMocker.js"></script>
    <script type="text/javascript" src="src/helpers/megaDataMocker.js"></script>
    <script type="text/javascript" src="src/helpers/eventMocker.js"></script>
    <script type="text/javascript" src="src/helpers/objectMocker.js"></script>
    <script type="text/javascript" src="src/helpers/stropheMocker.js"></script>
    <script type="text/javascript" src="src/helpers/fixtures.js"></script>
    <script type="text/javascript" src="src/helpers/karereMocker.js"></script>


    <!-- include spec files here... -->
    <!--<script type="text/javascript" src="spec/SpecHelper.js"></script>-->

    <script>
        // Patch Mocha to make it more `console.log` friendly
        var mochaHelper = ConsoleMochaHelper();
    </script>

    <!-- include source files here... -->
    <script type="text/javascript" src="src/unit/eventMocker.js"></script>
    <script type="text/javascript" src="src/unit/karere.js"></script>
    <script type="text/javascript" src="src/unit/chat.js"></script>
    <script type="text/javascript" src="src/unit/chatFilters.js"></script>
    <script type="text/javascript" src="src/unit/opQueue.js"></script>
    <script type="text/javascript" src="src/unit/encryptionFilter.js"></script>
    <script type="text/javascript" src="src/unit/megaKvStorage.js"></script>
    <script type="text/javascript" src="src/unit/megadb.js"></script>
    <script type="text/javascript" src="src/unit/megaPromise.js"></script>
    <script type="text/javascript" src="src/unit/megaNotifications.js"></script>
    <script type="text/javascript" src="src/unit/chatStore.js"></script>
    <script type="text/javascript" src="src/unit/mpencTestCases.js"></script>
    <script type="text/javascript" src="src/unit/datastructs.js"></script>
    <script type="text/javascript" src="src/unit/megaRenderMixin.js"></script>

    <!--<script type="text/javascript" src="src/integration/chatIntegration.js"></script>-->


    <script>
        mocha.run();
    </script>
  </body>
</html>
